<!doctype html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <title>在线音乐平台-在线歌单</title>
    <meta name="keywords" content="在线音乐平台"/>
    <meta name="description" content="person music"/>
    <link rel="stylesheet" type="text/css" href="css/style.css"/>
    <link rel="stylesheet" type="text/css" href="css/player.css"/>
    <!-- 新 Bootstrap 核心 CSS 文件 -->
    <link rel="Shortcut Icon" href="images/favicon.ico"/>
    <script type="text/javascript" src="js/modernizr.js"></script>
    <script>
        if ((!to3d()) || document.documentMode == 10 || document.documentMode == 11) {
            window.location = "error/error.html";
        }
    </script>
</head>
<body>


<!--头部 开始-->
<div id="header">
    <!--顶部bar 开始-->

    <div id="headCont">
        <audio id="audioPlayer"></audio>
        <!--二级导航-->
        <nav class="sub_nav">
            <div class="nav_list">
                <ul>
                    <li>
                        <a href="" class="smallogo">
                            <span class="mini_logo"></span>
                        </a>
                    </li>
                    <li><a href="" class="home"></a></li>

                    <div class="sub_list" id="sub_list">
                        <p class="active">
                            <a href="?cat=9">音乐是人类塑造灵魂的催化剂.</a>
                        </p>
                    </div>
                </ul>
            </div>
        </nav>
    </div>
    <!--头部导航  结束-->
</div>

<!-- 音乐馆 模块 开始  default-->
<div id="songList" style="position: relative;">
    <!-- 歌单 -->
    <div class="section_cont sl_left">
        <img width="100%" height="175" v-bind:src="songList.coverImgUrl" class=" " alt="mv_1x2_10" />
        <p style="color: white">歌单名称：{{songList.name}}</p>
        <p style="color: white">歌单描述：{{songList.description}}</p>
        <br />
        <p style="color: white">作者：{{songList.user.nickname}}</p>
        <p style="color: white">作者描述：{{songList.user.signature}}</p>
    </div>
    <!-- 歌曲列表 -->
    <div class="section_cont sl_right">
        <div class="songs_rcmd_title">
            <div class="rcmd_left_title rcmd_title">
                <span style="font-size: 20px">所有音乐</span>
                <a href="" class="more">/more</a>
            </div>
        </div>
        <div class="songs_rcmd sl_right_songs" id="songs_rcmd">
            <div class="songs_rcmd_cont">
                <ul class="rcmd_cont" id="latest">
                    <li v-for="(song, index) in listSong">
                        <a href="" class="musicName" > {{song.name}}</a>
                        <a class="playIcon" href="javascript:void(0)" v-on:click="playMusic(song)"></a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<!-- 左侧播放器 开始-->
<div id="jp_container_N" class="jp-video jp-video-270p" role="application" aria-label="media player">
    <div class="jp-type-playlist">
        <div id="jquery_jplayer_N" class="jp-jplayer"></div>
        <div class="jp-gui">
            <div class="jp-video-play">
                <button class="jp-video-play-icon" role="button" tabindex="0">播放</button>
            </div>
            <div class="jp-interface">
                <div class="jp-progress">
                    <div class="jp-seek-bar">
                        <div class="jp-play-bar"></div>
                    </div>
                </div>
                <div class="jp-current-time" role="timer" aria-label="time"></div>
                <div class="jp-duration" role="timer" aria-label="duration"></div>
                <div class="jp-controls-holder">
                    <div class="jp-controls">
                        <button class="jp-previous" role="button" tabindex="0">上一曲</button>
                        <button class="jp-play" role="button" tabindex="0">播放</button>
                        <button class="jp-next" role="button" tabindex="0">下一曲</button>
                        <button class="jp-stop" role="button" tabindex="0">暂停</button>
                    </div>
                    <div class="jp-volume-controls">
                        <button class="jp-mute" role="button" tabindex="0">静音</button>
                        <button class="jp-volume-max" role="button" tabindex="0">最大音量</button>
                        <div class="jp-volume-bar">
                            <div class="jp-volume-bar-value"></div>
                        </div>
                    </div>
                    <div class="jp-toggles">
                        <button class="jp-repeat" role="button" tabindex="0">重复</button>
                        <button class="jp-shuffle" role="button" tabindex="0">随机</button>
                        <!--<button class="jp-full-screen" role="button" tabindex="0">全屏</button>-->
                    </div>
                </div>
                <div class="jp-details">
                    <div class="jp-title" aria-label="title"></div>
                </div>
            </div>
        </div>
        <div class="jp-playlist">
            <div class="jp-playlist-box">
                <ul>
                    <!-- 该方法使用无序列表displayplaylist()播放列表 -->
                    <li></li>
                </ul>
            </div>
        </div>
        <div class="jp-no-solution">
            <span>升级需要</span>
            您浏览器赞不支持播放，请更新版本
            <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash插件</a>.
        </div>
    </div>
    <!--歌曲列表滚动条-->
    <div class="scrollBar">
        <div class="bar"></div>
    </div>
    <!--播放器展开隐藏按钮-->
    <button type="button" class="folded_bt" title="点击收缩" id="btnfold">
        <span></span>
    </button>
    <div id="listRemove"></div><!--移除全部歌曲按钮-->
    <div id="listClose"></div><!--歌曲列表展开收缩按钮-->
</div>
<!-- 左侧播放器 结束-->

<!--底部 开始 -->
<div class="footer" id="footer">
    <div class="footer_cont">
        <p>
            Copyright © 在线音乐平台开发小组
        </p>
    </div>
</div>
<!--引入Vue-->
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/index.js"></script>
<!--播放器js-->
<script type="text/javascript" src="js/player.js"></script>
<script type="text/javascript" src="js/playlist.js"></script>
<!--播放器js-->
<script type="text/javascript">
    //获取url中的参数
    function getUrlParam(name) {
        var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
        var r = window.location.search.substr(1).match(reg);  //匹配目标参数
        if (r != null) return unescape(r[2]);
        return null; //返回参数值
    }

    var myPlaylist = new jPlayerPlaylist({
            jPlayer: "#jquery_jplayer_N",
            cssSelectorAncestor: "#jp_container_N"
        },
        [
            {
                title: "Ellens Gesang III D839",
                artist: "Geoffrey Parsons",
                mp3: "http://music.163.com/song/media/outer/url?id=16691428.mp3  ",
                poster: "http://p1.music.126.net/wAIlwR4SxuZg_ZMwgmSYcg==/3386495814257726.jpg?param=130y130"
            },
            {
                title: "默",
                artist: "那英",
                mp3: "http://music.163.com/song/media/outer/url?id=31473269.mp3 ",
                poster: "http://p1.music.126.net/OCGt5ln0lPPtPbVJ3VEKtA==/109951163020570422.jpg?param=130y130"
            },
            {
                title: "Fire",
                artist: "Said The Sky",
                mp3: "http://music.163.com/song/media/outer/url?id=435289279.mp3",
                poster: "http://p1.music.126.net/tg2zke_mrqwuOPlEIEUjGg==/18294773975127592.jpg?param=130y130"
            }
        ],

        {
            playlistOptions: {enableRemoveControls: true},
            swfPath: "js/",
            supplied: "webmv, ogv, m4v, oga, mp3",
            useStateClassSkin: true,
            autoBlur: false,
            smoothPlayBar: true,
            keyEnabled: true,
            audioFullScreen: true
        });
    var vm = new Vue({
        el: "#songList",
        data: {
            songList: '',
            listSong: [],
            //creator: {}
        },
        created: function () {
            var id = getUrlParam("id");
            axios.get('http://localhost:8080/songList/' + id)
                .then(function (response) {
                    console.log(response);
                    vm.songList = response.data.detail.songList;
                    if (vm.songList.listSong != null) {
                        vm.listSong = vm.songList.listSong;
                    }
                    //vm.creator = vm.songList.user;
                    console.log(vm.listSong);
                })
                .catch(function (error) {
                    console.log(error);
                });
        },
        methods: {
            playMusic: function (obj) {
                myPlaylist.add({
                    title: obj.name, artist: "在线音乐平台开发小组",
                    //free:true,
                    mp3: obj.url,
                    //oga:"",
                    poster: "data:image/jpeg;base64,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"
                });
                myPlaylist.play(-1);
            }
        }
    });

    //移除
    $("#playlist-remove").click(function () {
        myPlaylist.remove();		//（0 1 2 ... -2 -1）
    });

    $("#listRemove").click(function () {
        myPlaylist.remove();
    });

    // 上一曲、下一曲

    $("#playlist-next").click(function () {
        myPlaylist.next();
    });
    $("#playlist-previous").click(function () {
        myPlaylist.previous();
    });

    // 播放
    $("#playlist-play").click(function () {
        myPlaylist.play();
    });

    $("#playlist-play--2").click(function () {
        myPlaylist.play(-2);
    });
    $("#playlist-play--1").click(function () {
        myPlaylist.play(-1);
    });
    $("#playlist-play-0").click(function () {
        myPlaylist.play(0);
    });
    $("#playlist-play-1").click(function () {
        myPlaylist.play(1);
    });
    $("#playlist-play-2").click(function () {
        myPlaylist.play(2);
    });

    // 暂停

    $("#playlist-pause").click(function () {
        myPlaylist.pause();
    });


    //是否自动播放

    $("#playlist-option-autoPlay-true").click(function () {
        myPlaylist.option("autoPlay", true);
    });
    $("#playlist-option-autoPlay-false").click(function () {
        myPlaylist.option("autoPlay", false);
    });


    //播放器列表滚动条js------------------------------------------------------------------------------------------------
    var $bar = $(".bar");
    var $scrollBar = $(".scrollBar");
    var $maxH = $scrollBar.innerHeight() - $bar.outerHeight();
    var $ul = $(".jp-playlist ul");
    var $li = $(".jp-playlist ul li");
    var disY = 0;
    var iScale = 0;
    var iSpeed = 0;

    $ul.height(1000);		//设置ul的高度

    $bar.mousedown(function (event) {
        var event = event || window.event;
        disY = event.clientY - $(this).position().top;
        $(document).bind("mousemove", function (event) {
            var event = event || window.event;
            var iH = event.clientY - disY;
            iH <= 0 && (iH = 0);
            iH >= $maxH && (iH = $maxH);
            $bar.css({top: iH + "px"});
            iScale = -iH / $maxH;
            $ul.css({top: iScale * ($ul.height() - $(".jp-playlist-box").height()) + "px"});
            return false;
        });
        $(document).bind("mouseup", function () {
            $(document).unbind("mousemove");
            $(document).unbind("mouseup");
        });
        return false;
    });

    //当鼠标移入，监听事件
    $(".jp-playlist-box").mouseover(function () {
        //鼠标滚轮
        addHandler(this, "mousewheel", mouseWheel);//IE
        addHandler(this, "DOMMouseScroll", mouseWheel);//标准
        return false;
    });

    //绑定事件重写兼容
    function addHandler(element, type, handler) {
        return element.addEventListener ? element.addEventListener(type, handler, false) :
            element.attachEvent("on" + type, handler, false)
    }

    //鼠标滚轮事件
    function mouseWheel(event) {
        var event = event || window.event;
        if (event.wheelDelta) {//IE
            iSpeed = event.wheelDelta > 0 ? -3 : 3;
        } else if (event.detail) {//火孤
            iSpeed = event.detail < 0 ? -3 : 3;
        }
        move();

        //FF,绑定事件，阻止默认事件
        if (event.preventDefault) {
            event.preventDefault();
        }
    };

    //滚轮 要执行的
    function move() {
        var iH = $bar.position().top;
        iH = iH + iSpeed;
        iH <= 0 && (iH = 0);
        iH >= $maxH && (iH = $maxH);
        $bar.css({top: iH + "px"});
        iScale = -iH / $maxH;
        $ul.css({top: iScale * ($ul.height() - $(".jp-playlist-box").height()) + "px"});
        return false;
    };
    //播放器列表滚动条js 结束------------------------------------------------


    //音乐播放器 收缩、展开----------------------------------------------
    var fold = true;//标识

    //页面加载时，播放器运动出来，延迟2秒，运动回去
    $(".jp-video").animate({left: 0}, "slow", function () {
        slideOut($(this));
    }).delay(2000).animate({left: "-480px"}, 350, function () {
        slideIn($(this));
    });

    //点击按钮运动出来，或运动回去
    $("#btnfold").mouseover(function () {
        if (fold) {
            $(".jp-video").animate({left: "-480px"}, 350, function () {
                slideIn($(this));
            });
        } else {
            $(".jp-video").animate({left: 0}, 350, function () {
                slideOut($(this));
            });
        }
    });

    //封装按钮背景切换1
    function slideOut(obj) {
        $("#btnfold").attr({"title": "点击收缩"});
        obj.find("span").css({"transform": "rotate(180deg)"});
        obj.find("span").css({"MozTransform": "rotate(180deg) translateX(2px)"});
        obj.find("span").css({"WebkitTransform": "rotate(180deg)"});
        fold = true;
    };

    //封装按钮背景切换2
    function slideIn(obj) {
        $("#btnfold").attr({"title": "点击展开"});
        obj.find("span").css({"transform": "rotate(0deg)"});
        obj.find("span").css({"MozTransform": "rotate(0deg) translateX(-2px)"});
        obj.find("span").css({"WebkitTransform": "rotate(0deg)"});
        fold = false;
    };

    //歌曲列表展开、收缩---------------------------------------------------
    var iOpen = false;
    $("#listClose").click(function () {
        if (iOpen) {
            $(".jp-playlist-box").animate({height: 0}, 100);
            $("#btnfold").css({top: "5px"});
            $("#listRemove").css({display: "none"});
            $(".scrollBar").css({display: "none"});
            $(".jp-video").animate({height: "94px", bottom: "20px"}, 100);
            iOpen = false;
        } else {
            $(".jp-playlist-box").animate({height: "80px"}, 100);
            $("#btnfold").css({top: "52px"});
            $("#listRemove").css({display: "block"});
            $(".scrollBar").css({display: "block"});
            $(".jp-video").animate({height: "175px", bottom: "20px"}, 100);
            iOpen = true;
        }
    });
</script>
</body>
</html>


